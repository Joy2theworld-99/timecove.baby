<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lyo & Lya Monitors</title>
<style>
  body {
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    gap: 40px;
    padding: 40px;
  }
  .monitor {
    text-align: center;
    position: relative;
    width: 250px;
    height: 300px;
  }
  .ring {
    position: absolute;
    top: 0;
    left: 0;
    width: 250px;
    height: 250px;
    border-radius: 50%;
    pointer-events: none;
    transform: rotate(-90deg);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .cooldown {
    animation: cooldownAnim 1s forwards;
  }
  @keyframes cooldownAnim {
    from { transform: rotate(-90deg) scale(1); opacity: 1; }
    to { transform: rotate(-90deg) scale(0.5); opacity: 0; }
  }
  svg {
    position: absolute;
    top: 0;
    left: 0;
  }
  .state-label {
    fill: white;
    font-size: 16px;
    letter-spacing: 1px;
  }
  .avatar {
    position: relative;
    z-index: 1;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: #333;
    margin: 50px auto 0;
    background-size: cover;
    background-position: center;
  }
  .resolve-btn {
    margin-top: 20px;
    padding: 8px 16px;
    border: none;
    border-radius: 20px;
    font-size: 14px;
    color: white;
    cursor: pointer;
    display: none;
  }
</style>
</head>
<body>

<div class="monitor" id="lyo-monitor">
  <div class="avatar" style="background-image: url('Lyo_Glyph_Clear.png');"></div>
  <svg width="250" height="250">
    <defs>
      <path id="lyoPath" d="M 125,125 m -100,0 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0"/>
    </defs>
    <circle id="lyoRing" class="ring" cx="125" cy="125" r="100" stroke-width="10" fill="none"/>
    <text class="state-label">
      <textPath id="lyoLabel" xlink:href="#lyoPath" startOffset="50%" text-anchor="middle"></textPath>
    </text>
  </svg>
  <button id="lyoResolve" class="resolve-btn">Resolve</button>
</div>

<div class="monitor" id="lya-monitor">
  <div class="avatar" style="background-image: url('Lya_Glyph_Clear.png');"></div>
  <svg width="250" height="250">
    <defs>
      <path id="lyaPath" d="M 125,125 m -100,0 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0"/>
    </defs>
    <circle id="lyaRing" class="ring" cx="125" cy="125" r="100" stroke-width="10" fill="none"/>
    <text class="state-label">
      <textPath id="lyaLabel" xlink:href="#lyaPath" startOffset="50%" text-anchor="middle"></textPath>
    </text>
  </svg>
  <button id="lyaResolve" class="resolve-btn">Resolve</button>
</div>

<script>
const states = {
  Hungry: '#ff4444',
  Tired: '#ffaa00',
  Sick: '#44ff44',
  Play: '#4488ff'
};

function setState(monitorId, ringId, labelId, btnId) {
  const stateKeys = Object.keys(states);
  const randomState = stateKeys[Math.floor(Math.random() * stateKeys.length)];
  const ring = document.getElementById(ringId);
  const label = document.getElementById(labelId);
  const btn = document.getElementById(btnId);

  ring.style.stroke = states[randomState];
  ring.style.opacity = 1;
  label.textContent = randomState;
  btn.textContent = `Resolve ${randomState}`;
  btn.style.backgroundColor = states[randomState];
  btn.style.display = 'inline-block';

  btn.onclick = () => {
    ring.classList.add('cooldown');
    setTimeout(() => {
      ring.classList.remove('cooldown');
      ring.style.opacity = 0;
      btn.style.display = 'none';
    }, 1000);
  };
}

// Simulate needs appearing
setInterval(() => setState('lyo-monitor', 'lyoRing', 'lyoLabel', 'lyoResolve'), 5000);
setInterval(() => setState('lya-monitor', 'lyaRing', 'lyaLabel', 'lyaResolve'), 7000);
</script>

</body>
</html>

